{"code":"!function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}([function(e,t,r){\"use strict\";let o;r.r(t);const n=()=>{let e=document.querySelectorAll(\".favorite-button\"),t=document.querySelector(\".back\"),r=document.querySelectorAll(\".enter-button\");r&&r.forEach(e=>{e.addEventListener(\"click\",e=>{o=e.target.getAttribute(\"data-id\"),u(`http://www.omdbapi.com/?i=${o}&apikey=d5677312`)})}),e&&e.forEach(e=>{e.addEventListener(\"click\",i)}),t&&t.addEventListener(\"click\",()=>{l(void 0)})},a=()=>{let e=document.querySelectorAll(\".favorite-button\"),t=document.querySelectorAll(\".enter-button\");value=\"\",t&&t.forEach(e=>{e.addEventListener(\"click\",e=>{o=e.target.getAttribute(\"data-id\"),u(`http://www.omdbapi.com/?i=${o}&apikey=d5677312`)})}),e.forEach(e=>{e.addEventListener(\"click\",e=>{let t=e.target.getAttribute(\"data-id\");localStorage.removeItem(t),e.target.parentNode.parentNode.remove(),\"\"==document.querySelector(\".results\").innerHTML&&(document.querySelector(\".results\").innerHTML=\"<p>У вас нет избранных фильмов</p>\")})})},i=e=>{let t=e.target.getAttribute(\"data-id\");localStorage.length&&localStorage.getItem(t)?(e.target.src=\"img/insert_favorite_button.svg\",localStorage.removeItem(t)):(e.target.src=\"img/remove_favorite_button.svg\",localStorage.setItem(t,!0))},l=e=>{e?c(`http://www.omdbapi.com/?s=${e.split(\" \").join(\"+\")}&apikey=d5677312`):s()},c=async e=>{try{let t,r,o=await fetch(e),a=(await o.json()).Search;if(!a)return document.querySelector(\".results\").innerHTML=\"<p>ничего не найдено</p>\",0;a=a.sort((e,t)=>+t.Year.slice(0,4)-+e.Year.slice(0,4)),document.querySelector(\".results\").innerHTML=\"\",a.forEach(e=>{(t=document.createElement(\"div\")).classList.add(\"res-item\"),r=localStorage.length&&localStorage.getItem(e.imdbID)?\"img/remove_favorite_button.svg\":\"img/insert_favorite_button.svg\",t.innerHTML=`\\n          <img src=\"${\"N/A\"==e.Poster?\"img/black.svg\":e.Poster}\" alt=\"img\" class=\"poster\">\\n          <div class=\"info-movie\">\\n            <h2>${e.Title}</h2>\\n            <p>Type: <mark>${e.Type}</mark> </p>\\n            <p>Year: <mark>${e.Year}</mark> </p>\\n          </div>\\n          <div class=\"res-item-buttons\">\\n            <img src=\"${r}\" alt=\"add to Favorites\" class='favorite-button' data-id='${e.imdbID}'/>\\n            <img src=\"img/enter.svg\" alt=\"More...\" class=\"enter-button\" data-id='${e.imdbID}'>\\n          </div>\\n`,document.querySelector(\".results\").appendChild(t)}),document.querySelector(\".results\").onload=n}catch(e){console.log(e)}},s=()=>{if(!localStorage.length)return document.querySelector(\".results\").innerHTML=\"<p>У вас нет избранных фильмов</p>\",0;document.querySelector(\".results\").innerHTML=\"\";for(let e in localStorage)\"true\"==localStorage[e]&&d(`http://www.omdbapi.com/?i=${e}&apikey=d5677312`)},d=async e=>{try{let t=await fetch(e),r=await t.json(),o=document.createElement(\"div\");o.classList.add(\"res-item\"),o.innerHTML=`\\n     <img src=\"${\"N/A\"==r.Poster?\"img/black.svg\":r.Poster}\" alt=\"img\" class=\"poster\">\\n     <div class=\"info-movie\">\\n       <h2>${r.Title}</h2>\\n       <p>Type: <mark>${r.Type}</mark> </p>\\n       <p>Year: <mark>${r.Year}</mark> </p>\\n     </div>\\n     <div class=\"res-item-buttons\"'>\\n       <img src=\"img/remove_favorite_button.svg\" alt=\"add to Favorites\" class='favorite-button' data-id='${r.imdbID}'/>\\n       <img src=\"img/enter.svg\" alt=\"More...\" class=\"enter-button\" data-id='${r.imdbID}'>\\n     </div>\\n`,document.querySelector(\".results\").appendChild(o),document.querySelector(\".results\").onload=a}catch(e){console.log(e)}},u=async e=>{try{let t,r=await fetch(e),o=await r.json();document.querySelector(\".results\").innerHTML=\"\",t=localStorage.length&&localStorage.getItem(o.imdbID)?\"img/remove_favorite_button.svg\":\"img/insert_favorite_button.svg\";let a=document.createElement(\"div\");a.classList.add(\"page-film\"),a.innerHTML=`\\n    <img src=\"img/enter.svg\" alt=\"back\" class='back'>\\n    <img src=\"${\"N/A\"==o.Poster?\"img/black.svg\":o.Poster}\" alt=\"img\" class=\"poster\">\\n    <img src=\"${t}\"\\n     alt=\"add to Favorites\" class='favorite-button' data-id='${o.imdbID}'/>\\n   <div class=\"info-movie\">\\n     <h2>${o.Title}</h2>\\n     <p>Type: <mark>${o.Type}</mark> </p>\\n     <p>Year: <mark>${o.Year}</mark> </p>\\n     <p>Rated: <mark>${o.Rated}</mark> </p>\\n     <p>Genre: <mark>${o.Genre}</mark> </p>\\n     <p>Runtime: <mark>${o.Runtime}</mark> </p>\\n     <p>Plot: <mark>${o.Plot}</mark> </p>\\n   </div>\\n</div>\\n\\n    `,document.querySelector(\".results\").appendChild(a),document.querySelector(\".results\").onload=n}catch(e){console.log(e)}};let m,p=document.querySelector(\"form\"),g=document.querySelector(\".favorites-button\");p.addEventListener(\"submit\",e=>{e.preventDefault(),m=document.querySelector(\"input\").value,c(`http://www.omdbapi.com/?s=${m.split(\" \").join(\"+\")}&apikey=d5677312`)}),g.addEventListener(\"click\",s);t.default=m}]);","extractedComments":[]}